<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AvoiderIo ì‚¬ì´íŠ¸ë§µ ì§„ë‹¨ ë„êµ¬ (ë¡œì»¬ìš©)</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            max-width: 900px; 
            margin: 0 auto; 
            padding: 20px; 
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status { 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 8px; 
            border-left: 5px solid;
        }
        .success { 
            background: #d4edda; 
            color: #155724; 
            border-left-color: #28a745;
        }
        .error { 
            background: #f8d7da; 
            color: #721c24; 
            border-left-color: #dc3545;
        }
        .warning { 
            background: #fff3cd; 
            color: #856404; 
            border-left-color: #ffc107;
        }
        .info { 
            background: #d1ecf1; 
            color: #0c5460; 
            border-left-color: #17a2b8;
        }
        button { 
            background: #007bff; 
            color: white; 
            border: none; 
            padding: 12px 24px; 
            border-radius: 6px; 
            cursor: pointer; 
            margin: 5px;
            font-size: 14px;
            transition: background 0.3s;
        }
        button:hover { background: #0056b3; }
        button:disabled { background: #6c757d; cursor: not-allowed; }
        pre { 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 5px; 
            overflow-x: auto; 
            font-size: 12px;
            border: 1px solid #e9ecef;
        }
        .result { margin: 10px 0; }
        .input-group {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        input[type="text"] {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }
        .tab.active {
            border-bottom-color: #007bff;
            color: #007bff;
            font-weight: bold;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .quick-links {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .quick-links a {
            display: inline-block;
            margin: 5px 10px 5px 0;
            padding: 8px 15px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 12px;
        }
        .quick-links a:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” AvoiderIo ì‚¬ì´íŠ¸ë§µ ì§„ë‹¨ ë„êµ¬</h1>
        <p>ë¡œì»¬ í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì§„ë‹¨ ë„êµ¬ì…ë‹ˆë‹¤. CORS ì œí•œì„ ìš°íšŒí•˜ëŠ” ëŒ€ì•ˆ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
        
        <div class="input-group">
            <label for="sitemapUrl">ì‚¬ì´íŠ¸ë§µ URL:</label>
            <input type="text" id="sitemapUrl" value="https://avoiderio.xyz/sitemap.xml" placeholder="ì§„ë‹¨í•  ì‚¬ì´íŠ¸ë§µ URL ì…ë ¥">
            <button onclick="runDiagnostics()" id="runBtn">ì§„ë‹¨ ì‹œì‘</button>
            <button onclick="clearResults()">ê²°ê³¼ ì§€ìš°ê¸°</button>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('auto')">ìë™ ì§„ë‹¨</div>
            <div class="tab" onclick="switchTab('manual')">ìˆ˜ë™ í™•ì¸</div>
            <div class="tab" onclick="switchTab('tools')">ì™¸ë¶€ ë„êµ¬</div>
        </div>

        <div id="auto" class="tab-content active">
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>ì§„ë‹¨ ì¤‘ì…ë‹ˆë‹¤...</p>
            </div>
            <div id="results"></div>
        </div>

        <div id="manual" class="tab-content">
            <div class="info status">
                <h3>ğŸ”§ ìˆ˜ë™ í™•ì¸ ë°©ë²•</h3>
                <h4>1. ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í™•ì¸:</h4>
                <ul>
                    <li><strong>ì‚¬ì´íŠ¸ë§µ ì ‘ì†:</strong> <a href="https://avoiderio.xyz/sitemap.xml" target="_blank">https://avoiderio.xyz/sitemap.xml</a></li>
                    <li><strong>robots.txt í™•ì¸:</strong> <a href="https://avoiderio.xyz/robots.txt" target="_blank">https://avoiderio.xyz/robots.txt</a></li>
                    <li><strong>ë©”ì¸ í˜ì´ì§€:</strong> <a href="https://avoiderio.xyz/" target="_blank">https://avoiderio.xyz/</a></li>
                </ul>
                
                <h4>2. ê°œë°œì ë„êµ¬ Network íƒ­ í™•ì¸:</h4>
                <ol>
                    <li>F12 í‚¤ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ ì—´ê¸°</li>
                    <li>Network íƒ­ ì„ íƒ</li>
                    <li>ì‚¬ì´íŠ¸ë§µ URL ì ‘ì†</li>
                    <li>ì‘ë‹µ í—¤ë”ì™€ ìƒíƒœ ì½”ë“œ í™•ì¸</li>
                </ol>

                <h4>3. ëª…ë ¹ì–´ë¡œ í™•ì¸ (í„°ë¯¸ë„/cmd):</h4>
                <pre>
# í—¤ë” ì •ë³´ í™•ì¸
curl -I https://avoiderio.xyz/sitemap.xml

# ë‚´ìš© í™•ì¸
curl https://avoiderio.xyz/sitemap.xml

# DNS í™•ì¸
nslookup avoiderio.xyz
                </pre>
            </div>
        </div>

        <div id="tools" class="tab-content">
            <div class="quick-links">
                <h3>ğŸ› ï¸ ì™¸ë¶€ ê²€ì¦ ë„êµ¬ë“¤</h3>
                
                <h4>Google ë„êµ¬:</h4>
                <a href="https://www.google.com/ping?sitemap=https://avoiderio.xyz/sitemap.xml" target="_blank">
                    ğŸ“¤ Google ì‚¬ì´íŠ¸ë§µ í•‘
                </a>
                <a href="https://search.google.com/search-console" target="_blank">
                    ğŸ” Search Console
                </a>
                <a href="https://search.google.com/test/rich-results?url=https://avoiderio.xyz" target="_blank">
                    ğŸ“Š ë¦¬ì¹˜ ê²°ê³¼ í…ŒìŠ¤íŠ¸
                </a>

                <h4>ì‚¬ì´íŠ¸ë§µ ê²€ì¦ ë„êµ¬:</h4>
                <a href="https://www.xml-sitemaps.com/validate-xml-sitemap.html" target="_blank">
                    âœ… XML Sitemaps ê²€ì¦
                </a>
                <a href="https://websiteseochecker.com/xml-sitemap-validator/" target="_blank">
                    ğŸ” SEO Checker
                </a>
                <a href="https://smallseotools.com/xml-sitemap-validator/" target="_blank">
                    ğŸ“‹ Small SEO Tools
                </a>

                <h4>SEO ë¶„ì„ ë„êµ¬:</h4>
                <a href="https://pagespeed.web.dev/?url=https://avoiderio.xyz" target="_blank">
                    âš¡ PageSpeed Insights
                </a>
                <a href="https://validator.w3.org/nu/?doc=https://avoiderio.xyz" target="_blank">
                    ğŸ“ HTML ê²€ì¦
                </a>
                <a href="https://validator.w3.org/feed/check.cgi?url=https://avoiderio.xyz/sitemap.xml" target="_blank">
                    ğŸ”§ W3C Feed ê²€ì¦
                </a>

                <h4>DNS/ë„¤íŠ¸ì›Œí¬ ë„êµ¬:</h4>
                <a href="https://dnschecker.org/#A/avoiderio.xyz" target="_blank">
                    ğŸŒ DNS ì „íŒŒ í™•ì¸
                </a>
                <a href="https://www.whatsmydns.net/#A/avoiderio.xyz" target="_blank">
                    ğŸ“¡ DNS ì¡°íšŒ
                </a>
                <a href="https://httpstatus.io/?url=https://avoiderio.xyz/sitemap.xml" target="_blank">
                    ğŸ“Š HTTP ìƒíƒœ í™•ì¸
                </a>
            </div>

            <div class="warning status">
                <h4>â° ì¼ë°˜ì ì¸ ì²˜ë¦¬ ì‹œê°„:</h4>
                <ul>
                    <li><strong>GitHub Pages ë¹Œë“œ:</strong> 5-10ë¶„</li>
                    <li><strong>CDN ìºì‹œ ê°±ì‹ :</strong> 1-24ì‹œê°„</li>
                    <li><strong>Google ì²« í¬ë¡¤ë§:</strong> 24-72ì‹œê°„</li>
                    <li><strong>Search Console ë°˜ì˜:</strong> 1-7ì¼</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabId) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        async function runDiagnostics() {
            const resultsDiv = document.getElementById('results');
            const loadingDiv = document.getElementById('loading');
            const runBtn = document.getElementById('runBtn');
            const sitemapUrl = document.getElementById('sitemapUrl').value;
            
            // UI ìƒíƒœ ë³€ê²½
            loadingDiv.style.display = 'block';
            runBtn.disabled = true;
            resultsDiv.innerHTML = '';
            
            const results = [];
            
            // ê¸°ë³¸ ì •ë³´ í‘œì‹œ
            results.push({
                test: 'ì§„ë‹¨ ëŒ€ìƒ',
                status: 'info',
                message: `URL: ${sitemapUrl}<br>ì‹œê°„: ${new Date().toLocaleString()}`
            });

            try {
                // 1. ê¸°ë³¸ fetch ì‹œë„ (CORS ì œí•œìœ¼ë¡œ ì‹¤íŒ¨í•  ê°€ëŠ¥ì„± ë†’ìŒ)
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10ì´ˆ íƒ€ì„ì•„ì›ƒ
                    
                    const response = await fetch(sitemapUrl, {
                        method: 'HEAD',
                        mode: 'cors',
                        cache: 'no-cache',
                        signal: controller.signal,
                        headers: {
                            'Cache-Control': 'no-cache',
                            'Pragma': 'no-cache'
                        }
                    });
                    
                    clearTimeout(timeoutId);
                    
                    results.push({
                        test: 'ì‚¬ì´íŠ¸ë§µ ì ‘ê·¼ì„±',
                        status: response.ok ? 'success' : 'error',
                        message: response.ok ? 
                            `âœ… ì ‘ê·¼ ê°€ëŠ¥ (ìƒíƒœ: ${response.status})` : 
                            `âŒ ì ‘ê·¼ ë¶ˆê°€ (ìƒíƒœ: ${response.status})`
                    });
                    
                    // Content-Type í™•ì¸
                    const contentType = response.headers.get('content-type');
                    results.push({
                        test: 'Content-Type',
                        status: contentType && (contentType.includes('xml') || contentType.includes('text')) ? 'success' : 'warning',
                        message: `Content-Type: ${contentType || 'ì—†ìŒ'}`
                    });
                    
                } catch (fetchError) {
                    if (fetchError.name === 'AbortError') {
                        results.push({
                            test: 'ì‚¬ì´íŠ¸ë§µ ì ‘ê·¼ì„±',
                            status: 'error',
                            message: 'âŒ ìš”ì²­ ì‹œê°„ ì´ˆê³¼ (10ì´ˆ)'
                        });
                    } else {
                        results.push({
                            test: 'ì‚¬ì´íŠ¸ë§µ ì ‘ê·¼ì„± (CORS ì œí•œ)',
                            status: 'warning',
                            message: `âš ï¸ CORS ì •ì±…ìœ¼ë¡œ ì¸í•´ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€: ${fetchError.message}<br>
                                     <strong>í•´ê²°ë°©ë²•:</strong> ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ <a href="${sitemapUrl}" target="_blank">${sitemapUrl}</a> ì ‘ì†í•˜ì—¬ í™•ì¸`
                        });
                    }
                }

                // 2. ëŒ€ì•ˆ í™•ì¸ ë°©ë²•ë“¤
                results.push({
                    test: 'ìˆ˜ë™ í™•ì¸ ë°©ë²•',
                    status: 'info',
                    message: `
                        <strong>ë‹¤ìŒ ë°©ë²•ë“¤ë¡œ í™•ì¸í•˜ì„¸ìš”:</strong><br>
                        1. <a href="${sitemapUrl}" target="_blank">ìƒˆ íƒ­ì—ì„œ ì‚¬ì´íŠ¸ë§µ ì§ì ‘ ì—´ê¸°</a><br>
                        2. <a href="${sitemapUrl.replace('/sitemap.xml', '/robots.txt')}" target="_blank">robots.txt í™•ì¸</a><br>
                        3. <a href="https://www.google.com/ping?sitemap=${encodeURIComponent(sitemapUrl)}" target="_blank">Googleì— ì‚¬ì´íŠ¸ë§µ í•‘ ë³´ë‚´ê¸°</a>
                    `
                });

                // 3. ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²° ë°©ë²•
                results.push({
                    test: 'ë¬¸ì œ í•´ê²° ì²´í¬ë¦¬ìŠ¤íŠ¸',
                    status: 'info',
                    message: `
                        <strong>ë‹¤ìŒ ì‚¬í•­ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”:</strong><br>
                        âœ… GitHub Pages ë¹Œë“œ ì™„ë£Œ (ì €ì¥ì†Œ Actions íƒ­ í™•ì¸)<br>
                        âœ… ì‚¬ì´íŠ¸ë§µì´ ë¸Œë¼ìš°ì €ì—ì„œ ì •ìƒ í‘œì‹œë˜ëŠ”ê°€?<br>
                        âœ… Search Consoleì—ì„œ ì´ì „ ì‚¬ì´íŠ¸ë§µ ì‚­ì œí–ˆëŠ”ê°€?<br>
                        âœ… 24-72ì‹œê°„ ì¶©ë¶„íˆ ê¸°ë‹¤ë ¸ëŠ”ê°€?<br>
                        âœ… HTTPSë¡œ ì ‘ì†í•˜ê³  ìˆëŠ”ê°€? (HTTP ì•„ë‹˜)<br>
                        âœ… robots.txtì— ì‚¬ì´íŠ¸ë§µ ì°¸ì¡°ê°€ ìˆëŠ”ê°€?
                    `
                });

                // 4. ì‹œê°„ ê´€ë ¨ ì •ë³´
                results.push({
                    test: 'ì˜ˆìƒ ì²˜ë¦¬ ì‹œê°„',
                    status: 'warning',
                    message: `
                        <strong>â° ì¼ë°˜ì ì¸ ì²˜ë¦¬ ì‹œê°„:</strong><br>
                        â€¢ GitHub Pages ë¹Œë“œ: 5-10ë¶„<br>
                        â€¢ CDN ìºì‹œ ê°±ì‹ : 1-24ì‹œê°„<br>
                        â€¢ Google ì²« í¬ë¡¤ë§: 24-72ì‹œê°„<br>
                        â€¢ Search Console ë°˜ì˜: 1-7ì¼<br><br>
                        <strong>ğŸ’¡ ëŒ€ë¶€ë¶„ ì‹œê°„ ë¬¸ì œì…ë‹ˆë‹¤!</strong> íŠ¹íˆ ìƒˆ ë„ë©”ì¸ì˜ ê²½ìš° ë” ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    `
                });

                // 5. ì¶”ê°€ íŒ
                results.push({
                    test: 'ì¶”ê°€ ê°œì„  ë°©ë²•',
                    status: 'success',
                    message: `
                        <strong>ğŸš€ ì¶”ê°€ë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤:</strong><br>
                        â€¢ Search Consoleì—ì„œ ê°œë³„ URL ì¸ë±ìŠ¤ ìš”ì²­<br>
                        â€¢ Google Analytics ì„¤ì¹˜ë¡œ íŠ¸ë˜í”½ ì‹ í˜¸ ë³´ë‚´ê¸°<br>
                        â€¢ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì—ì„œ ë°±ë§í¬ ìƒì„±<br>
                        â€¢ ì •ê¸°ì ì¸ ì½˜í…ì¸  ì—…ë°ì´íŠ¸<br>
                        â€¢ ì†Œì…œë¯¸ë””ì–´ì—ì„œ ë§í¬ ê³µìœ 
                    `
                });

            } catch (error) {
                results.push({
                    test: 'ì „ì²´ ì§„ë‹¨',
                    status: 'error',
                    message: `âŒ ì§„ë‹¨ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`
                });
            }
            
            // ê²°ê³¼ í‘œì‹œ
            displayResults(results);
            
            // UI ìƒíƒœ ë³µì›
            loadingDiv.style.display = 'none';
            runBtn.disabled = false;
        }
        
        function displayResults(results) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            results.forEach(result => {
                const div = document.createElement('div');
                div.className = `result status ${result.status}`;
                div.innerHTML = `
                    <strong>${result.test}:</strong><br>
                    ${result.message}
                `;
                resultsDiv.appendChild(div);
            });
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ í™˜ê²½ ì•ˆë‚´
        window.addEventListener('load', () => {
            const welcomeMsg = document.createElement('div');
            welcomeMsg.className = 'result status info';
            welcomeMsg.innerHTML = `
                <strong>ğŸ’» ë¡œì»¬ í™˜ê²½ì—ì„œ ì‹¤í–‰ ì¤‘</strong><br>
                CORS ì •ì±…ìœ¼ë¡œ ì¸í•´ ì¼ë¶€ ìë™ ê²€ì‚¬ê°€ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                "ìˆ˜ë™ í™•ì¸" ë° "ì™¸ë¶€ ë„êµ¬" íƒ­ì„ ì ê·¹ í™œìš©í•´ì£¼ì„¸ìš”!
            `;
            document.getElementById('results').appendChild(welcomeMsg);
        });
    </script>
</body>
</html>